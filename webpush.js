!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).firebase=t()}(this,function(){"use strict";var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},n=function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function l(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&r>=e.length?void 0:e)&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function u(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}function p(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=p(e[n],t[n]));return e}var i=(e.prototype.wrapCallback=function(n){var r=this;return function(e,t){e?r.reject(e):r.resolve(t),"function"==typeof n&&(r.promise.catch(function(){}),1===n.length?n(e):n(e,t))}},e);function e(){var n=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,t){n.resolve=e,n.reject=t})}var o,s="FirebaseError",a=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(c,o=Error),c);function c(e,t,n){return(t=o.call(this,t)||this).code=e,t.customData=n,t.name=s,Object.setPrototypeOf(t,c.prototype),Error.captureStackTrace&&Error.captureStackTrace(t,d.prototype.create),t}var d=(t.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r,i=t[0]||{},o=this.service+"/"+e,e=(e=this.errors[e])?(r=i,e.replace(h,function(e,t){var n=r[t];return null!=n?String(n):"<"+t+"?>"})):"Error",e=this.serviceName+": "+e+" ("+o+").";return new a(o,e,i)},t);function t(e,t,n){this.service=e,this.serviceName=t,this.errors=n}var h=/\{\$([^}]+)}/g;function v(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function g(e,t){return(t=new y(e,t)).subscribe.bind(t)}var y=(b.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},b.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},b.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},b.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");return void 0===(r=function(e){if("object"==typeof e&&null!==e)for(var t=0,n=["next","error","complete"];t<n.length;t++){var r=n[t];if(r in e&&"function"==typeof e[r])return 1}}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=m),void 0===r.error&&(r.error=m),void 0===r.complete&&(r.complete=m),n=this.unsubscribeOne.bind(this,this.observers.length),this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}}),this.observers.push(r),n},b.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],--this.observerCount,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},b.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},b.prototype.sendOne=function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})},b.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},b);function b(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(n)}).catch(function(e){n.error(e)})}function m(){}var w=(k.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},k.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},k.prototype.setServiceProps=function(e){return this.serviceProps=e,this},k.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},k);function k(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}var I="[DEFAULT]",S=(_.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)&&(e=new i,this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize()))try{var n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}return this.instancesDeferred.get(t).promise},_.prototype.getImmediate=function(e){var t=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),e=null!==(e=null==e?void 0:e.optional)&&void 0!==e&&e;if(!this.isInitialized(t)&&!this.shouldAutoInitialize()){if(e)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:t})}catch(t){if(e)return null;throw t}},_.prototype.getComponent=function(){return this.component},_.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:I})}catch(e){}try{for(var r=l(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=f(i.value,2),s=o[0],a=o[1],c=this.normalizeInstanceIdentifier(s);try{var u=this.getOrInitializeService({instanceIdentifier:c});a.resolve(u)}catch(e){}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},_.prototype.clearInstance=function(e){this.instancesDeferred.delete(e=void 0===e?I:e),this.instances.delete(e)},_.prototype.delete=function(){return e=this,c=function(){var t,n,r,i,o,s,a,e;return n=this,r=function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(u(u([],f(t.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()}))),f(t.filter(function(e){return"_delete"in e}).map(function(e){return e._delete()}))))];case 1:return e.sent(),[2]}},a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function c(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(s=2&t[0]?o.return:t[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,t[1])).done)return s;switch(o=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,o=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){a.label=t[1];break}if(6===t[0]&&a.label<s[1]){a.label=s[1],s=t;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(t);break}s[2]&&a.ops.pop(),a.trys.pop();continue}t=r.call(n,a)}catch(e){t=[6,e],o=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},new(a=(a=s=void 0)||Promise)(function(n,t){function r(e){try{o(c.next(e))}catch(e){t(e)}}function i(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(r,i)}o((c=c.apply(e,s||[])).next())});var e,s,a,c},_.prototype.isComponentSet=function(){return null!=this.component},_.prototype.isInitialized=function(e){return this.instances.has(e=void 0===e?I:e)},_.prototype.initialize=function(e){var t,n,r=void 0===(r=(e=void 0===e?{}:e).options)?{}:r,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(this.name+"("+i+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var o=this.getOrInitializeService({instanceIdentifier:i,options:r});try{for(var s=l(this.instancesDeferred.entries()),a=s.next();!a.done;a=s.next()){var c=f(a.value,2),u=c[0],c=c[1];i===this.normalizeInstanceIdentifier(u)&&c.resolve(o)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return o},_.prototype.onInit=function(e,t){var n=this.normalizeInstanceIdentifier(t),r=null!==(t=this.onInitCallbacks.get(n))&&void 0!==t?t:new Set;return r.add(e),this.onInitCallbacks.set(n,r),(t=this.instances.get(n))&&e(t,n),function(){r.delete(e)}},_.prototype.invokeOnInitCallbacks=function(e,t){var n,r,i=this.onInitCallbacks.get(t);if(i)try{for(var o=l(i),s=o.next();!s.done;s=o.next()){var a=s.value;try{a(e,t)}catch(e){}}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},_.prototype.getOrInitializeService=function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n;if(!(e=this.instances.get(t))&&this.component&&(e=this.component.instanceFactory(this.container,{instanceIdentifier:(n=t)===I?void 0:n,options:r}),this.instances.set(t,e),this.invokeOnInitCallbacks(e,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,e)}catch(e){}return e||null},_.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=I),!this.component||this.component.multipleInstances?e:I},_.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},_);function _(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}var C=(E.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},E.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},E.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new S(e,this);return this.providers.set(e,t),t},E.prototype.getProviders=function(){return Array.from(this.providers.values())},E);function E(e){this.name=e,this.providers=new Map}var O,T=[];function P(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=j[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,u(["["+i+"]  "+e.name+":"],n))}}(x=O=O||{})[x.DEBUG=0]="DEBUG",x[x.VERBOSE=1]="VERBOSE",x[x.INFO=2]="INFO",x[x.WARN=3]="WARN",x[x.ERROR=4]="ERROR",x[x.SILENT=5]="SILENT";var N={debug:O.DEBUG,verbose:O.VERBOSE,info:O.INFO,warn:O.WARN,error:O.ERROR,silent:O.SILENT},D=O.INFO,j=((L={})[O.DEBUG]="log",L[O.VERBOSE]="log",L[O.INFO]="info",L[O.WARN]="warn",L[O.ERROR]="error",L),x=(Object.defineProperty(A.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in O))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),A.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?N[e]:e},Object.defineProperty(A.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),A.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,u([this,O.DEBUG],e)),this._logHandler.apply(this,u([this,O.DEBUG],e))},A.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,u([this,O.VERBOSE],e)),this._logHandler.apply(this,u([this,O.VERBOSE],e))},A.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,u([this,O.INFO],e)),this._logHandler.apply(this,u([this,O.INFO],e))},A.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,u([this,O.WARN],e)),this._logHandler.apply(this,u([this,O.WARN],e))},A.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,u([this,O.ERROR],e)),this._logHandler.apply(this,u([this,O.ERROR],e))},A);function A(e){this.name=e,this._logLevel=D,this._logHandler=P,this._userLogHandler=null,T.push(this)}function M(t){T.forEach(function(e){e.setLogLevel(t)})}function R(s,t){for(var e=0,n=T;e<n.length;e++)!function(e){var o=null;t&&t.level&&(o=N[t.level]),e.userLogHandler=null===s?null:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n.map(function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}}).filter(function(e){return e}).join(" ");t>=(null!=o?o:e.logLevel)&&s({level:O[t].toLowerCase(),message:i,args:n,type:e.name})}}(n[e])}var L=((L={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",L["bad-app-name"]="Illegal App name: '{$appName}",L["duplicate-app"]="Firebase App named '{$appName}' already exists",L["app-deleted"]="Firebase App named '{$appName}' already deleted",L["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",L["invalid-log-argument"]="First argument to `onLog` must be null or a function.",L),K=new d("app","Firebase",L),F="@firebase/app",B="[DEFAULT]",H=((L={})[F]="fire-core",L["@firebase/analytics"]="fire-analytics",L["@firebase/app-check"]="fire-app-check",L["@firebase/auth"]="fire-auth",L["@firebase/database"]="fire-rtdb",L["@firebase/functions"]="fire-fn",L["@firebase/installations"]="fire-iid",L["@firebase/messaging"]="fire-fcm",L["@firebase/performance"]="fire-perf",L["@firebase/remote-config"]="fire-rc",L["@firebase/storage"]="fire-gcs",L["@firebase/firestore"]="fire-fst",L["fire-js"]="fire-js",L["firebase-wrapper"]="fire-js-all",L),z=new x("@firebase/app"),V=(Object.defineProperty(q.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),q.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(e){return e.delete()}))}).then(function(){t.isDeleted_=!0})},q.prototype._getService=function(e,t){void 0===t&&(t=B),this.checkDestroyed_();var n=this.container.getProvider(e);return n.isInitialized()||"EXPLICIT"!==(null===(e=n.getComponent())||void 0===e?void 0:e.instantiationMode)||n.initialize(),n.getImmediate({identifier:t})},q.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=B),this.container.getProvider(e).clearInstance(t)},q.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){z.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},q.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},q.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},q.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw K.create("app-deleted",{appName:this.name_})},q);function q(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=p(void 0,e),this.container=new C(t.name),this._addComponent(new w("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(e){return r._addComponent(e)})}V.prototype.name&&V.prototype.options||V.prototype.delete||console.log("dc");var L=function e(){var s,a,c,u,t=(s=V,a={},c=new Map,(u={__esModule:!0,initializeApp:function(e,t){void 0===t&&(t={}),"object"==typeof t&&null!==t||(t={name:t});var n=t;if(void 0===n.name&&(n.name=B),"string"!=typeof(t=n.name)||!t)throw K.create("bad-app-name",{appName:String(t)});if(v(a,t))throw K.create("duplicate-app",{appName:t});return n=new s(e,n,u),a[t]=n},app:l,registerVersion:function(e,t,n){var r=null!==(i=H[e])&&void 0!==i?i:e;n&&(r+="-"+n);var i=r.match(/\s|\//),e=t.match(/\s|\//);i||e?(n=['Unable to register library "'+r+'" with version "'+t+'":'],i&&n.push('library name "'+r+'" contains illegal characters (whitespace or "/")'),i&&e&&n.push("and"),e&&n.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),z.warn(n.join(" "))):o(new w(r+"-version",function(){return{library:r,version:t}},"VERSION"))},setLogLevel:M,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw K.create("invalid-log-argument");R(e,t)},apps:null,SDK_VERSION:"8.7.0",INTERNAL:{registerComponent:o,removeApp:function(e){delete a[e]},components:c,useAsService:function(e,t){return"serverAuth"!==t?t:null}}}).default=u,Object.defineProperty(u,"apps",{get:function(){return Object.keys(a).map(function(e){return a[e]})}}),l.App=s,u);function l(e){if(!v(a,e=e||B))throw K.create("no-app",{appName:e});return a[e]}function o(n){var e,r=n.name;if(c.has(r))return z.debug("There were multiple attempts to register component "+r+"."),"PUBLIC"===n.type?u[r]:null;c.set(r,n),"PUBLIC"===n.type&&(e=function(e){if("function"!=typeof(e=void 0===e?l():e)[r])throw K.create("invalid-app-argument",{appName:r});return e[r]()},void 0!==n.serviceProps&&p(e,n.serviceProps),u[r]=e,s.prototype[r]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,r).apply(this,n.multipleInstances?e:[])});for(var t=0,i=Object.keys(a);t<i.length;t++){var o=i[t];a[o]._addComponent(n)}return"PUBLIC"===n.type?u[r]:null}return t.INTERNAL=n(n({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){p(t,e)},createSubscribe:g,ErrorFactory:d,deepExtend:p}),t}(),U=(W.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(e){return"VERSION"===(null==(t=(t=e).getComponent())?void 0:t.type)?(e=e.getImmediate()).library+"/"+e.version:null;var t}).filter(function(e){return e}).join(" ")},W);function W(e){this.container=e}"object"==typeof self&&self.self===self&&void 0!==self.firebase&&(z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  "),(x=self.firebase.SDK_VERSION)&&0<=x.indexOf("LITE")&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    "));var $=L.initializeApp;L.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return}}()&&z.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),$.apply(void 0,e)};x=L;return(L=x).INTERNAL.registerComponent(new w("platform-logger",function(e){return new U(e)},"PRIVATE")),L.registerVersion(F,"0.6.28",void 0),L.registerVersion("fire-js",""),x.registerVersion("firebase","8.7.0","app"),x.SDK_VERSION="8.7.0",x}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("@firebase/app")):"function"==typeof define&&define.amd?define(["@firebase/app"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).firebase)}(this,function(tt){"use strict";try{(function(){var e,t=(e=tt)&&"object"==typeof e&&"default"in e?e:{default:e},r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},f=function(){return(f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function p(e,s,a,c){return new(a=a||Promise)(function(n,t){function r(e){try{o(c.next(e))}catch(e){t(e)}}function i(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(r,i)}o((c=c.apply(e,s||[])).next())})}function d(n,r){var i,o,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(s=2&t[0]?o.return:t[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,t[1])).done)return s;switch(o=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,o=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){a.label=t[1];break}if(6===t[0]&&a.label<s[1]){a.label=s[1],s=t;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(t);break}s[2]&&a.ops.pop(),a.trys.pop();continue}t=r.call(n,a)}catch(e){t=[6,e],o=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&r>=e.length?void 0:e)&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function o(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function s(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}var i,a="FirebaseError",c=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(u,i=Error),u);function u(e,t,n){return(t=i.call(this,t)||this).code=e,t.customData=n,t.name=a,Object.setPrototypeOf(t,u.prototype),Error.captureStackTrace&&Error.captureStackTrace(t,l.prototype.create),t}var l=(n.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r,i=t[0]||{},o=this.service+"/"+e,e=(e=this.errors[e])?(r=i,e.replace(v,function(e,t){var n=r[t];return null!=n?String(n):"<"+t+"?>"})):"Error",e=this.serviceName+": "+e+" ("+o+").";return new c(o,e,i)},n);function n(e,t,n){this.service=e,this.serviceName=t,this.errors=n}var v=/\{\$([^}]+)}/g,g=(y.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},y.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},y.prototype.setServiceProps=function(e){return this.serviceProps=e,this},y.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},y);function y(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}function b(n){return new Promise(function(e,t){n.onsuccess=function(){e(n.result)},n.onerror=function(){t(n.error)}})}function m(n,r,i){var o,e=new Promise(function(e,t){b(o=n[r].apply(n,i)).then(e,t)});return e.request=o,e}function w(e,n,t){t.forEach(function(t){Object.defineProperty(e.prototype,t,{get:function(){return this[n][t]},set:function(e){this[n][t]=e}})})}function k(t,n,r,e){e.forEach(function(e){e in r.prototype&&(t.prototype[e]=function(){return m(this[n],e,arguments)})})}function I(t,n,r,e){e.forEach(function(e){e in r.prototype&&(t.prototype[e]=function(){return this[n][e].apply(this[n],arguments)})})}function S(e,r,t,n){n.forEach(function(n){n in t.prototype&&(e.prototype[n]=function(){return e=this[r],(t=m(e,n,arguments)).then(function(e){if(e)return new C(e,t.request)});var e,t})})}function _(e){this._index=e}function C(e,t){this._cursor=e,this._request=t}function E(e){this._store=e}function O(n){this._tx=n,this.complete=new Promise(function(e,t){n.oncomplete=function(){e()},n.onerror=function(){t(n.error)},n.onabort=function(){t(n.error)}})}function T(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new O(n)}function P(e){this._db=e}function N(e,t,n){var r=(t=m(indexedDB,"open",[e,t])).request;return r&&(r.onupgradeneeded=function(e){n&&n(new T(r.result,e.oldVersion,r.transaction))}),t.then(function(e){return new P(e)})}function D(e){return m(indexedDB,"deleteDatabase",[e])}w(_,"_index",["name","keyPath","multiEntry","unique"]),k(_,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),S(_,"_index",IDBIndex,["openCursor","openKeyCursor"]),w(C,"_cursor",["direction","key","primaryKey","value"]),k(C,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(n){n in IDBCursor.prototype&&(C.prototype[n]=function(){var t=this,e=arguments;return Promise.resolve().then(function(){return t._cursor[n].apply(t._cursor,e),b(t._request).then(function(e){if(e)return new C(e,t._request)})})})}),E.prototype.createIndex=function(){return new _(this._store.createIndex.apply(this._store,arguments))},E.prototype.index=function(){return new _(this._store.index.apply(this._store,arguments))},w(E,"_store",["name","keyPath","indexNames","autoIncrement"]),k(E,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),S(E,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),I(E,"_store",IDBObjectStore,["deleteIndex"]),O.prototype.objectStore=function(){return new E(this._tx.objectStore.apply(this._tx,arguments))},w(O,"_tx",["objectStoreNames","mode"]),I(O,"_tx",IDBTransaction,["abort"]),T.prototype.createObjectStore=function(){return new E(this._db.createObjectStore.apply(this._db,arguments))},w(T,"_db",["name","version","objectStoreNames"]),I(T,"_db",IDBDatabase,["deleteObjectStore","close"]),P.prototype.transaction=function(){return new O(this._db.transaction.apply(this._db,arguments))},w(P,"_db",["name","version","objectStoreNames"]),I(P,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(i){[E,_].forEach(function(e){i in e.prototype&&(e.prototype[i.replace("open","iterate")]=function(){var e=(n=arguments,Array.prototype.slice.call(n)),t=e[e.length-1],n=this._store||this._index,r=n[i].apply(n,e.slice(0,-1));r.onsuccess=function(){t(r.result)}})})}),[_,E].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,n){var r=this,i=[];return new Promise(function(t){r.iterateCursor(e,function(e){e?(i.push(e.value),void 0===n||i.length!=n?e.continue():t(i)):t(i)})})})});var j=1e4,x="w:0.4.30",A="FIS_v2",M="https://firebaseinstallations.googleapis.com/v1",R=36e5,L=((L={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',L["not-registered"]="Firebase Installation is not registered.",L["installation-not-found"]="Firebase Installation not found.",L["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',L["app-offline"]="Could not process request. Application offline.",L["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",L),K=new l("installations","Installations",L);function F(e){return e instanceof c&&e.code.includes("request-failed")}function B(e){return e=e.projectId,M+"/projects/"+e+"/installations"}function H(e){return{token:e.token,requestStatus:2,expiresIn:(e=e.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()}}function z(n,r){return p(this,void 0,void 0,function(){var t;return d(this,function(e){switch(e.label){case 0:return[4,r.json()];case 1:return t=e.sent().error,[2,K.create("request-failed",{requestName:n,serverCode:t.code,serverMessage:t.message,serverStatus:t.status})]}})})}function V(e){return e=e.apiKey,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function q(e,t){return t=t.refreshToken,(e=V(e)).append("Authorization",A+" "+t),e}function U(n){return p(this,void 0,void 0,function(){var t;return d(this,function(e){switch(e.label){case 0:return[4,n()];case 1:return 500<=(t=e.sent()).status&&t.status<600?[2,n()]:[2,t]}})})}function W(t){return new Promise(function(e){setTimeout(e,t)})}var $=/^[cdef][\w-]{21}$/,G="";function J(e){return e.appName+"!"+e.appId}var Q=new Map;function Z(e,t){var n;Y(e=J(e),t),n=e,e=t,(t=ee())&&t.postMessage({key:n,fid:e}),te()}function Y(e,t){var n,r;if(e=Q.get(e))try{for(var i=h(e),o=i.next();!o.done;o=i.next())(0,o.value)(t)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}var X=null;function ee(){return!X&&"BroadcastChannel"in self&&((X=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){Y(e.data.key,e.data.fid)}),X}function te(){0===Q.size&&X&&(X.close(),X=null)}var ne,re="firebase-installations-database",ie=1,oe="firebase-installations-store",se=null;function ae(){return se=se||N(re,ie,function(e){0===e.oldVersion&&e.createObjectStore(oe)})}function ce(o,s){return p(this,void 0,void 0,function(){var t,n,r,i;return d(this,function(e){switch(e.label){case 0:return t=J(o),[4,ae()];case 1:return r=e.sent(),[4,(r=(n=r.transaction(oe,"readwrite")).objectStore(oe)).get(t)];case 2:return i=e.sent(),[4,r.put(s,t)];case 3:return e.sent(),[4,n.complete];case 4:return e.sent(),i&&i.fid===s.fid||Z(o,s.fid),[2,s]}})})}function ue(r){return p(this,void 0,void 0,function(){var t,n;return d(this,function(e){switch(e.label){case 0:return t=J(r),[4,ae()];case 1:return[4,(n=(n=e.sent()).transaction(oe,"readwrite")).objectStore(oe).delete(t)];case 2:return e.sent(),[4,n.complete];case 3:return e.sent(),[2]}})})}function le(s,a){return p(this,void 0,void 0,function(){var t,n,r,i,o;return d(this,function(e){switch(e.label){case 0:return t=J(s),[4,ae()];case 1:return r=e.sent(),[4,(r=(n=r.transaction(oe,"readwrite")).objectStore(oe)).get(t)];case 2:return i=e.sent(),void 0!==(o=a(i))?[3,4]:[4,r.delete(t)];case 3:return e.sent(),[3,6];case 4:return[4,r.put(o,t)];case 5:e.sent(),e.label=6;case 6:return[4,n.complete];case 7:return e.sent(),!o||i&&i.fid===o.fid||Z(s,o.fid),[2,o]}})})}function fe(i){return p(this,void 0,void 0,function(){var r,t,n;return d(this,function(e){switch(e.label){case 0:return[4,le(i,function(e){var t,n;return e=de(e||{fid:function(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=btoa(String.fromCharCode.apply(String,s([],o(e)))).replace(/\+/g,"-").replace(/\//g,"_").substr(0,22);return $.test(t)?t:G}catch(e){return G}}(),registrationStatus:0}),t=i,e=0!==(n=e).registrationStatus?1===n.registrationStatus?{installationEntry:n,registrationPromise:function(i){return p(this,void 0,void 0,function(){var t,n,r;return d(this,function(e){switch(e.label){case 0:return[4,pe(i)];case 1:t=e.sent(),e.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,W(100)];case 3:return e.sent(),[4,pe(i)];case 4:return t=e.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,fe(i)];case 6:return r=e.sent(),n=r.installationEntry,(r=r.registrationPromise)?[2,r]:[2,n];case 7:return[2,t]}})})}(t)}:{installationEntry:n}:navigator.onLine?{installationEntry:n={fid:n.fid,registrationStatus:1,registrationTime:Date.now()},registrationPromise:t=function(r,i){return p(this,void 0,void 0,function(){var t,n;return d(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,7]),[4,function(s){var a=i.fid;return p(this,void 0,void 0,function(){var t,n,r,i,o;return d(this,function(e){switch(e.label){case 0:return t=B(s),n=V(s),o={fid:a,authVersion:A,appId:s.appId,sdkVersion:x},r={method:"POST",headers:n,body:JSON.stringify(o)},[4,U(function(){return fetch(t,r)})];case 1:return(i=e.sent()).ok?[4,i.json()]:[3,3];case 2:return[2,{fid:(o=e.sent()).fid||a,registrationStatus:2,refreshToken:o.refreshToken,authToken:H(o.authToken)}];case 3:return[4,z("Create Installation",i)];case 4:throw e.sent()}})})}(r)];case 1:return t=e.sent(),[2,ce(r,t)];case 2:return F(n=e.sent())&&409===n.customData.serverCode?[4,ue(r)]:[3,4];case 3:return e.sent(),[3,6];case 4:return[4,ce(r,{fid:i.fid,registrationStatus:0})];case 5:e.sent(),e.label=6;case 6:throw n;case 7:return[2]}})})}(t,n)}:{installationEntry:n,registrationPromise:Promise.reject(K.create("app-offline"))},r=e.registrationPromise,e.installationEntry})];case 1:return(t=e.sent()).fid!==G?[3,3]:(n={},[4,r]);case 2:return[2,(n.installationEntry=e.sent(),n)];case 3:return[2,{installationEntry:t,registrationPromise:r}]}})})}function pe(e){return le(e,function(e){if(!e)throw K.create("installation-not-found");return de(e)})}function de(e){return 1===e.registrationStatus&&e.registrationTime+j<Date.now()?{fid:e.fid,registrationStatus:0}:e}function he(e,a){var c=e.appConfig,u=e.platformLoggerProvider;return p(this,void 0,void 0,function(){var n,r,i,o,s;return d(this,function(e){switch(e.label){case 0:return t=(t=a).fid,n=B(c)+"/"+t+"/authTokens:generate",r=q(c,a),(s=u.getImmediate({optional:!0}))&&r.append("x-firebase-client",s.getPlatformInfoString()),s={installation:{sdkVersion:x}},i={method:"POST",headers:r,body:JSON.stringify(s)},[4,U(function(){return fetch(n,i)})];case 1:return(o=e.sent()).ok?[4,o.json()]:[3,3];case 2:return[2,H(s=e.sent())];case 3:return[4,z("Generate Auth Token",o)];case 4:throw e.sent()}var t})})}function ve(s,a){return void 0===a&&(a=!1),p(this,void 0,void 0,function(){var o,t,n;return d(this,function(e){switch(e.label){case 0:return[4,le(s.appConfig,function(e){if(!ye(e))throw K.create("not-registered");var t,n,r,i=e.authToken;if(a||2!==(t=i).requestStatus||(n=t,(r=Date.now())<n.creationTime||n.creationTime+n.expiresIn<r+R)){if(1===i.requestStatus)return o=function(n,r){return p(this,void 0,void 0,function(){var t;return d(this,function(e){switch(e.label){case 0:return[4,ge(n.appConfig)];case 1:t=e.sent(),e.label=2;case 2:return 1!==t.authToken.requestStatus?[3,5]:[4,W(100)];case 3:return e.sent(),[4,ge(n.appConfig)];case 4:return t=e.sent(),[3,2];case 5:return 0===(t=t.authToken).requestStatus?[2,ve(n,r)]:[2,t]}})})}(s,a),e;if(!navigator.onLine)throw K.create("app-offline");return t=e,i={requestStatus:1,requestTime:Date.now()},i=f(f({},t),{authToken:i}),o=function(i,o){return p(this,void 0,void 0,function(){var t,n,r;return d(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,8]),[4,he(i,o)];case 1:return t=e.sent(),r=f(f({},o),{authToken:t}),[4,ce(i.appConfig,r)];case 2:return e.sent(),[2,t];case 3:return!F(n=e.sent())||401!==n.customData.serverCode&&404!==n.customData.serverCode?[3,5]:[4,ue(i.appConfig)];case 4:return e.sent(),[3,7];case 5:return r=f(f({},o),{authToken:{requestStatus:0}}),[4,ce(i.appConfig,r)];case 6:e.sent(),e.label=7;case 7:throw n;case 8:return[2]}})})}(s,i),i}return e})];case 1:return t=e.sent(),o?[4,o]:[3,3];case 2:return n=e.sent(),[3,4];case 3:n=t.authToken,e.label=4;case 4:return[2,n]}})})}function ge(e){return le(e,function(e){if(!ye(e))throw K.create("not-registered");var t=e.authToken;return 1===t.requestStatus&&t.requestTime+j<Date.now()?f(f({},e),{authToken:{requestStatus:0}}):e})}function ye(e){return void 0!==e&&2===e.registrationStatus}function be(o,s){return p(this,void 0,void 0,function(){var n,r,i;return d(this,function(e){switch(e.label){case 0:return t=(t=s).fid,n=B(o)+"/"+t,i=q(o,s),r={method:"DELETE",headers:i},[4,U(function(){return fetch(n,r)})];case 1:return(i=e.sent()).ok?[3,3]:[4,z("Delete Installation",i)];case 2:throw e.sent();case 3:return[2]}var t})})}function me(e,r){var i=e.appConfig;return function(e,t){ee();var n=J(e);(e=Q.get(n))||(e=new Set,Q.set(n,e)),e.add(t)}(i,r),function(){var e,t=r,n=J(e=i);(e=Q.get(n))&&(e.delete(t),0===e.size&&Q.delete(n),te())}}function we(e){return K.create("missing-app-config-values",{valueName:e})}(ne=t.default).INTERNAL.registerComponent(new g("installations",function(e){var t=e.getProvider("app").getImmediate(),n={appConfig:function(e){var t,n;if(!e||!e.options)throw we("App Configuration");if(!e.name)throw we("App Name");try{for(var r=h(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw we(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:e.getProvider("platform-logger")};return{app:t,getId:function(){return function(r){return p(this,void 0,void 0,function(){var t,n;return d(this,function(e){switch(e.label){case 0:return[4,fe(r.appConfig)];case 1:return t=e.sent(),n=t.installationEntry,(t.registrationPromise||ve(r)).catch(console.error),[2,n.fid]}})})}(n)},getToken:function(e){return function(t,n){return void 0===n&&(n=!1),p(this,void 0,void 0,function(){return d(this,function(e){switch(e.label){case 0:return[4,function(n){return p(this,void 0,void 0,function(){var t;return d(this,function(e){switch(e.label){case 0:return[4,fe(n)];case 1:return(t=e.sent().registrationPromise)?[4,t]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2]}})})}(t.appConfig)];case 1:return e.sent(),[4,ve(t,n)];case 2:return[2,e.sent().token]}})})}(n,e)},delete:function(){return function(r){return p(this,void 0,void 0,function(){var t,n;return d(this,function(e){switch(e.label){case 0:return[4,le(t=r.appConfig,function(e){if(!e||0!==e.registrationStatus)return e})];case 1:if(!(n=e.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw K.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw K.create("app-offline");case 3:return[4,be(t,n)];case 4:return e.sent(),[4,ue(t)];case 5:e.sent(),e.label=6;case 6:return[2]}})})}(n)},onIdChange:function(e){return me(n,e)}}},"PUBLIC")),ne.registerVersion("@firebase/installations","0.4.30");var ke,L=((L={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',L["only-available-in-window"]="This method is available in a Window context.",L["only-available-in-sw"]="This method is available in a service worker context.",L["permission-default"]="The notification permission was not granted and dismissed instead.",L["permission-blocked"]="The notification permission was not granted and blocked instead.",L["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",L["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",L["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",L["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",L["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",L["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",L["token-update-no-token"]="FCM returned no token when updating the user to push.",L["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",L["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",L["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",L["invalid-vapid-key"]="The public VAPID key must be a string.",L["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",L),Ie=new l("messaging","Messaging",L),Se="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",_e="https://fcmregistrations.googleapis.com/v1",Ce="FCM_MSG",Ee="google.c.a.c_id";function Oe(e){return e=new Uint8Array(e),btoa(String.fromCharCode.apply(String,s([],o(e)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}(L=ke={}).PUSH_RECEIVED="push-received",L.NOTIFICATION_CLICKED="notification-clicked";var Te="fcm_token_details_db",Pe=5,Ne="fcm_token_object_Store";var De="firebase-messaging-database",je=1,xe="firebase-messaging-store",Ae=null;function Me(){return Ae=Ae||N(De,je,function(e){0===e.oldVersion&&e.createObjectStore(xe)})}function Re(r){return p(this,void 0,void 0,function(){var t,n;return d(this,function(e){switch(e.label){case 0:return t=Ke(r),[4,Me()];case 1:return[4,e.sent().transaction(xe).objectStore(xe).get(t)];case 2:return(t=e.sent())?[2,t]:[3,3];case 3:return[4,function(s){return p(this,void 0,void 0,function(){var o,t=this;return d(this,function(e){switch(e.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!e.sent().map(function(e){return e.name}).includes(Te))return[2,null];e.label=2;case 2:return o=null,[4,N(Te,Pe,function(i){return p(t,void 0,void 0,function(){var t,n,r;return d(this,function(e){switch(e.label){case 0:return!(i.oldVersion<2)&&i.objectStoreNames.contains(Ne)?[4,(r=i.transaction.objectStore(Ne)).index("fcmSenderId").get(s)]:[2];case 1:return t=e.sent(),[4,r.clear()];case 2:if(e.sent(),!t)return[2];if(2===i.oldVersion){if(!(n=t).auth||!n.p256dh||!n.endpoint)return[2];o={token:n.fcmToken,createTime:null!==(r=n.createTime)&&void 0!==r?r:Date.now(),subscriptionOptions:{auth:n.auth,p256dh:n.p256dh,endpoint:n.endpoint,swScope:n.swScope,vapidKey:"string"==typeof n.vapidKey?n.vapidKey:Oe(n.vapidKey)}}}else 3!==i.oldVersion&&4!==i.oldVersion||(o={token:(n=t).fcmToken,createTime:n.createTime,subscriptionOptions:{auth:Oe(n.auth),p256dh:Oe(n.p256dh),endpoint:n.endpoint,swScope:n.swScope,vapidKey:Oe(n.vapidKey)}});return[2]}})})})];case 3:return e.sent().close(),[4,D(Te)];case 4:return e.sent(),[4,D("fcm_vapid_details_db")];case 5:return e.sent(),[4,D("undefined")];case 6:return e.sent(),[2,function(e){if(e&&e.subscriptionOptions){var t=e.subscriptionOptions;return"number"==typeof e.createTime&&0<e.createTime&&"string"==typeof e.token&&0<e.token.length&&"string"==typeof t.auth&&0<t.auth.length&&"string"==typeof t.p256dh&&0<t.p256dh.length&&"string"==typeof t.endpoint&&0<t.endpoint.length&&"string"==typeof t.swScope&&0<t.swScope.length&&"string"==typeof t.vapidKey&&0<t.vapidKey.length}}(o)?o:null]}})})}(r.appConfig.senderId)];case 4:return(n=e.sent())?[4,Le(r,n)]:[3,6];case 5:return e.sent(),[2,n];case 6:return[2]}})})}function Le(r,i){return p(this,void 0,void 0,function(){var t,n;return d(this,function(e){switch(e.label){case 0:return t=Ke(r),[4,Me()];case 1:return[4,(n=(n=e.sent()).transaction(xe,"readwrite")).objectStore(xe).put(i,t)];case 2:return e.sent(),[4,n.complete];case 3:return e.sent(),[2,i]}})})}function Ke(e){return e.appConfig.appId}function Fe(r,i){return p(this,void 0,void 0,function(){var t,n;return d(this,function(e){switch(e.label){case 0:return[4,He(r)];case 1:t={method:"DELETE",headers:t=e.sent()},e.label=2;case 2:return e.trys.push([2,5,,6]),[4,fetch(Be(r.appConfig)+"/"+i,t)];case 3:return[4,e.sent().json()];case 4:if((t=e.sent()).error)throw n=t.error.message,Ie.create("token-unsubscribe-failed",{errorInfo:n});return[3,6];case 5:throw n=e.sent(),Ie.create("token-unsubscribe-failed",{errorInfo:n});case 6:return[2]}})})}function Be(e){return e=e.projectId,_e+"/projects/"+e+"/registrations"}function He(e){var n=e.appConfig,r=e.installations;return p(this,void 0,void 0,function(){var t;return d(this,function(e){switch(e.label){case 0:return[4,r.getToken()];case 1:return t=e.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}})})}function ze(e){var t=e.p256dh,n=e.auth,t={web:{endpoint:e.endpoint,auth:n,p256dh:t}};return(e=e.vapidKey)!==Se&&(t.web.applicationPubKey=e),t}function Ve(c,u,l){return p(this,void 0,void 0,function(){var o,s,a;return d(this,function(e){switch(e.label){case 0:if("granted"!==Notification.permission)throw Ie.create("permission-blocked");return[4,function(n,r){return p(this,void 0,void 0,function(){var t;return d(this,function(e){switch(e.label){case 0:return[4,n.pushManager.getSubscription()];case 1:return(t=e.sent())?[2,t]:[2,n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:function(e){for(var e=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),t=atob(e),n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n}(r)})]}})})}(u,l)];case 1:return a=e.sent(),[4,Re(c)];case 2:return o=e.sent(),s={vapidKey:l,swScope:u.scope,endpoint:a.endpoint,auth:Oe(a.getKey("auth")),p256dh:Oe(a.getKey("p256dh"))},o?[3,3]:[2,Ue(c,s)];case 3:if(t=o.subscriptionOptions,n=s.vapidKey===t.vapidKey,r=s.endpoint===t.endpoint,i=s.auth===t.auth,t=s.p256dh===t.p256dh,n&&r&&i&&t)return[3,8];e.label=4;case 4:return e.trys.push([4,6,,7]),[4,Fe(c,o.token)];case 5:return e.sent(),[3,7];case 6:return a=e.sent(),console.warn(a),[3,7];case 7:return[2,Ue(c,s)];case 8:return Date.now()>=o.createTime+6048e5?[2,function(i,o,s){return p(this,void 0,void 0,function(){var t,n,r;return d(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,5]),[4,function(o,s){return p(this,void 0,void 0,function(){var t,n,r,i;return d(this,function(e){switch(e.label){case 0:return[4,He(o)];case 1:t=e.sent(),n=ze(s.subscriptionOptions),n={method:"PATCH",headers:t,body:JSON.stringify(n)},e.label=2;case 2:return e.trys.push([2,5,,6]),[4,fetch(Be(o.appConfig)+"/"+s.token,n)];case 3:return[4,e.sent().json()];case 4:return r=e.sent(),[3,6];case 5:throw i=e.sent(),Ie.create("token-update-failed",{errorInfo:i});case 6:if(r.error)throw i=r.error.message,Ie.create("token-update-failed",{errorInfo:i});if(!r.token)throw Ie.create("token-update-no-token");return[2,r.token]}})})}(o,i)];case 1:return t=e.sent(),n=f(f({},i),{token:t,createTime:Date.now()}),[4,Le(o,n)];case 2:return e.sent(),[2,t];case 3:return r=e.sent(),[4,qe(o,s)];case 4:throw e.sent(),r;case 5:return[2]}})})}({token:o.token,createTime:Date.now(),subscriptionOptions:s},c,u)]:[2,o.token];case 9:return[2]}var t,n,r,i})})}function qe(n,r){return p(this,void 0,void 0,function(){var t;return d(this,function(e){switch(e.label){case 0:return[4,Re(n)];case 1:return(t=e.sent())?[4,Fe(n,t.token)]:[3,4];case 2:return e.sent(),[4,function(r){return p(this,void 0,void 0,function(){var t,n;return d(this,function(e){switch(e.label){case 0:return t=Ke(r),[4,Me()];case 1:return[4,(n=(n=e.sent()).transaction(xe,"readwrite")).objectStore(xe).delete(t)];case 2:return e.sent(),[4,n.complete];case 3:return e.sent(),[2]}})})}(n)];case 3:e.sent(),e.label=4;case 4:return[4,r.pushManager.getSubscription()];case 5:return(t=e.sent())?[2,t.unsubscribe()]:[2,!0]}})})}function Ue(n,r){return p(this,void 0,void 0,function(){var t;return d(this,function(e){switch(e.label){case 0:return[4,function(o,s){return p(this,void 0,void 0,function(){var t,n,r,i;return d(this,function(e){switch(e.label){case 0:return[4,He(o)];case 1:t=e.sent(),n=ze(s),n={method:"POST",headers:t,body:JSON.stringify(n)},e.label=2;case 2:return e.trys.push([2,5,,6]),[4,fetch(Be(o.appConfig),n)];case 3:return[4,e.sent().json()];case 4:return r=e.sent(),[3,6];case 5:throw i=e.sent(),Ie.create("token-subscribe-failed",{errorInfo:i});case 6:if(r.error)throw i=r.error.message,Ie.create("token-subscribe-failed",{errorInfo:i});if(!r.token)throw Ie.create("token-subscribe-no-token");return[2,r.token]}})})}(n,r)];case 1:return t={token:t=e.sent(),createTime:Date.now(),subscriptionOptions:r},[4,Le(n,t)];case 2:return e.sent(),[2,t.token]}})})}function We(e){return"object"==typeof e&&e&&Ee in e}function $e(t){return new Promise(function(e){setTimeout(e,t)})}var Ge=(Object.defineProperty(Je.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),Je.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!=typeof e)throw Ie.create("invalid-bg-handler");this.bgMessageHandler=e},Je.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},Je.prototype.getToken=function(){var n;return p(this,void 0,void 0,function(){var t;return d(this,function(e){switch(e.label){case 0:return this.vapidKey?[3,2]:[4,Re(this.firebaseDependencies)];case 1:t=e.sent(),this.vapidKey=null!==(n=null===(n=null==t?void 0:t.subscriptionOptions)||void 0===n?void 0:n.vapidKey)&&void 0!==n?n:Se,e.label=2;case 2:return[2,Ve(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},Je.prototype.deleteToken=function(){return qe(this.firebaseDependencies,self.registration)},Je.prototype.requestPermission=function(){throw Ie.create("only-available-in-window")},Je.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw Ie.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw Ie.create("invalid-vapid-key");this.vapidKey=e},Je.prototype.useServiceWorker=function(){throw Ie.create("only-available-in-window")},Je.prototype.onMessage=function(){throw Ie.create("only-available-in-window")},Je.prototype.onTokenRefresh=function(){throw Ie.create("only-available-in-window")},Je.prototype.onPush=function(l){return p(this,void 0,void 0,function(){var a,c,u;return d(this,function(e){switch(e.label){case 0:return(u=function(e){if(!(e=e.data))return null;try{return e.json()}catch(e){return null}}(l))?[4,Qe()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return(a=e.sent()).some(function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")})?[2,function(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=ke.PUSH_RECEIVED;try{for(var i=h(e),o=i.next();!o.done;o=i.next())o.value.postMessage(t)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}(a,u)]:(c=!1,u.notification?[4,((s=f({},(i=u).notification)).data=((o={})[Ce]=i,o),t=(r=s).actions,n=Notification.maxActions,t&&n&&t.length>n&&console.warn("This browser only supports "+n+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(n=r.title)&&void 0!==n?n:"",r))]:[3,3]);case 2:e.sent(),c=!0,e.label=3;case 3:return!0===c&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=r={from:(n=u).from,collapseKey:n.collapse_key},(o=n).notification&&(i.notification={},(s=o.notification.title)&&(i.notification.title=s),(s=o.notification.body)&&(i.notification.body=s),(o=o.notification.image)&&(i.notification.image=o)),i=r,(o=n).data&&(i.data=o.data),i=r,(o=n).fcmOptions&&(i.fcmOptions={},(n=o.fcmOptions.link)&&(i.fcmOptions.link=n),(o=o.fcmOptions.analytics_label)&&(i.fcmOptions.analyticsLabel=o)),u=r,"function"==typeof this.bgMessageHandler?this.bgMessageHandler(u):this.bgMessageHandler.next(u)),[4,$e(1e3)]);case 4:return e.sent(),[2]}var t,n,r,i,o,s})})},Je.prototype.onSubChange=function(n){var r;return p(this,void 0,void 0,function(){var t;return d(this,function(e){switch(e.label){case 0:return n.newSubscription?[3,2]:[4,qe(this.firebaseDependencies,self.registration)];case 1:return e.sent(),[2];case 2:return[4,Re(this.firebaseDependencies)];case 3:return t=e.sent(),[4,qe(this.firebaseDependencies,self.registration)];case 4:return e.sent(),[4,Ve(this.firebaseDependencies,self.registration,null!==(r=null===(r=null==t?void 0:t.subscriptionOptions)||void 0===r?void 0:r.vapidKey)&&void 0!==r?r:Se)];case 5:return e.sent(),[2]}})})},Je.prototype.onNotificationClick=function(c){var u;return p(this,void 0,void 0,function(){var r,i,o,s,a;return d(this,function(e){switch(e.label){case 0:return!(r=null===(u=null===(u=c.notification)||void 0===u?void 0:u.data)||void 0===u?void 0:u[Ce])||c.action?[2]:(c.stopImmediatePropagation(),c.notification.close(),n=null!==(t=null===(t=r.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==t?t:null===(n=r.notification)||void 0===n?void 0:n.click_action,(i=n||(We(r.data)?self.location.origin:null))?(o=new URL(i,self.location.href),s=new URL(self.location.origin),o.host!==s.host?[2]:[4,function(c){return p(this,void 0,void 0,function(){var t,n,r,i,o,s,a;return d(this,function(e){switch(e.label){case 0:return[4,Qe()];case 1:t=e.sent();try{for(n=h(t),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),c.host===o.host)return[2,i]}catch(e){s={error:e}}finally{try{r&&!r.done&&(a=n.return)&&a.call(n)}finally{if(s)throw s.error}}return[2,null]}})})}(o)]):[2]);case 1:return(a=e.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return a=e.sent(),[4,$e(3e3)];case 3:return e.sent(),[3,6];case 4:return[4,a.focus()];case 5:a=e.sent(),e.label=6;case 6:return a?(r.messageType=ke.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,a.postMessage(r)]):[2]}var t,n})})},Je);function Je(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(e){e.waitUntil(t.onPush(e))}),self.addEventListener("pushsubscriptionchange",function(e){e.waitUntil(t.onSubChange(e))}),self.addEventListener("notificationclick",function(e){e.waitUntil(t.onNotificationClick(e))})}function Qe(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}var Ze=(Object.defineProperty(Ye.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),Ye.prototype.messageEventListener=function(i){return p(this,void 0,void 0,function(){var n,r;return d(this,function(e){switch(e.label){case 0:return(n=i.data).isFirebaseMessaging?(this.onMessageCallback&&n.messageType===ke.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback((delete(t=Object.assign({},n)).messageType,delete t.isFirebaseMessaging,t)):this.onMessageCallback.next(Object.assign({},n))),We(r=n.data)&&"1"===r["google.c.a.e"]?[4,this.logEvent(n.messageType,r)]:[3,2]):[2];case 1:e.sent(),e.label=2;case 2:return[2]}var t})})},Ye.prototype.getVapidKey=function(){return this.vapidKey},Ye.prototype.getSwReg=function(){return this.swRegistration},Ye.prototype.getToken=function(t){return p(this,void 0,void 0,function(){return d(this,function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw Ie.create("permission-blocked");return[4,this.updateVapidKey(null==t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null==t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,Ve(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},Ye.prototype.updateVapidKey=function(t){return p(this,void 0,void 0,function(){return d(this,function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=Se),[2]})})},Ye.prototype.updateSwReg=function(t){return p(this,void 0,void 0,function(){return d(this,function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw Ie.create("invalid-sw-registration");return this.swRegistration=t,[2]}})})},Ye.prototype.registerDefaultSw=function(){return p(this,void 0,void 0,function(){var t;return d(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=e.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw t=e.sent(),Ie.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}})})},Ye.prototype.deleteToken=function(){return p(this,void 0,void 0,function(){return d(this,function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,qe(this.firebaseDependencies,this.swRegistration)]}})})},Ye.prototype.requestPermission=function(){return p(this,void 0,void 0,function(){var t;return d(this,function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw"denied"===t?Ie.create("permission-blocked"):Ie.create("permission-default")}})})},Ye.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw Ie.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw Ie.create("invalid-vapid-key");this.vapidKey=e},Ye.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw Ie.create("invalid-sw-registration");if(this.swRegistration)throw Ie.create("use-sw-after-get-token");this.swRegistration=e},Ye.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},Ye.prototype.setBackgroundMessageHandler=function(){throw Ie.create("only-available-in-sw")},Ye.prototype.onBackgroundMessage=function(){throw Ie.create("only-available-in-sw")},Ye.prototype.onTokenRefresh=function(){return function(){}},Ye.prototype.logEvent=function(n,r){return p(this,void 0,void 0,function(){var t;return d(this,function(e){switch(e.label){case 0:return t=function(){switch(n){case ke.NOTIFICATION_CLICKED:return"notification_open";case ke.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return e.sent().logEvent(t,{message_id:r[Ee],message_name:r["google.c.a.c_l"],message_time:r["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},Ye);function Ye(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(e){return t.messageEventListener(e)})}function Xe(e){return Ie.create("missing-app-config-values",{valueName:e})}function et(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}L={isSupported:et},t.default.INTERNAL.registerComponent(new g("messaging",function(e){var t=e.getProvider("app").getImmediate(),e={app:t,appConfig:function(e){var t,n;if(!e||!e.options)throw Xe("App Configuration Object");if(!e.name)throw Xe("App Name");var r=e.options;try{for(var i=h(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var s=o.value;if(!r[s])throw Xe(s)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")};if(!et())throw Ie.create("unsupported-browser");return new(self&&"ServiceWorkerGlobalScope"in self?Ge:Ze)(e)},"PUBLIC").setServiceProps(L))}).apply(this,arguments)}catch(e){throw console.error(e),new Error("Cannot instantiate firebase-messaging.js - be sure to load firebase-app.js first.")}});var firebaseConfig={apiKey:"AIzaSyDUFduD1WioESuzZ1Q1emdr623tMfZvTns",authDomain:"fastrojgar-webpush.firebaseapp.com",projectId:"fastrojgar-webpush",storageBucket:"fastrojgar-webpush.appspot.com",messagingSenderId:"446123143842",appId:"1:446123143842:web:a7107d41f6612ea1729dfb"};firebase.initializeApp(firebaseConfig);const messaging=firebase.messaging();function resetUI(){messaging.getToken({vapidKey:"BKBQ77kB5SieZ4NAmlrqtcGEUcJiJniSVMTdnIvzdancjfUsHxsQSamhJS2AQFkbN297ttxCq-Lv5CzSpF2sNWQ"}).then(e=>{e?sendTokenToServer(e):(console.log("No registration token available. Request permission to generate one."),setTokenSentToServer(!1))}).catch(e=>{console.log("An error occurred while retrieving token. ",e),showToken("Error retrieving registration token. ",e),setTokenSentToServer(!1)})}function sendTokenToServer(e){var t;isTokenSentToServer()?(console.log("Token already sent to server"),console.log(e)):(console.log("Sending token to server..."),console.log(e),(t=document.createElement("iframe")).src="/save?token="+e,t.title="Token Save",document.body.appendChild(t),t.style.display="none",setTokenSentToServer(!0))}function isTokenSentToServer(){return"1"===window.localStorage.getItem("sentToServer")}function setTokenSentToServer(e){window.localStorage.setItem("sentToServer",e?"1":"0")}function requestPermission(){console.log("Requesting permission..."),Notification.requestPermission().then(e=>{"granted"===e?(console.log("Notification permission granted."),resetUI()):console.log("Unable to get permission to notify.")})}messaging.onMessage(function(e){console.log("onMessage: ",e);var t=e.data.title,n={body:e.data.body,icon:e.data.icon,data:{click_action:e.data.click_action}};navigator.serviceWorker.getRegistration().then(e=>{e.showNotification(t,n)})}),navigator.serviceWorker.getRegistration().then(e=>{firebase.messaging().useServiceWorker(e),setTimeout(requestPermission,600)});
